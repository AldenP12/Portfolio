<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alden Panicker — Portfolio</title>
  <meta name="description" content="Alden Panicker — photonics & nanofabrication portfolio." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --ring:#e2e8f0; }
    .card { border:1px solid var(--ring); border-radius:16px; box-shadow:0 8px 24px rgba(2,6,23,.06); background:#fff; }

    /* === Animation kit additions (non-destructive) === */
    :root{
      --anim-fast:160ms; --anim-med:360ms; --anim-slow:800ms;
      --easing:cubic-bezier(.22,.61,.36,1);
      --hover-scale:1.04; /* cards/buttons expand to this */
      --sibling-shift:12px; /* how much neighbors nudge away */
      --reveal-translate:24px; /* scroll reveal offset */
      --shadow-sm:0 1px 2px rgba(0,0,0,.06), 0 1px 1px rgba(0,0,0,.04);
      --shadow-md:0 6px 16px rgba(0,0,0,.12);
      --radius:16px;
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration:1ms !important; transition-duration:1ms !important; scroll-behavior:auto !important; }
    }

    /* Hover/focus expand for cards and explicit .btns */
    .card, .btn{
      transition: transform var(--anim-med) var(--easing), box-shadow var(--anim-fast) var(--easing);
      transform-origin:center; will-change:transform;
    }
    .card:hover, .card:focus-visible,
    .btn:hover, .btn:focus-visible{
      transform: scale(var(--hover-scale));
      box-shadow: var(--shadow-md);
    }

    /* Neighbor nudge (JS sets --shift-x/--shift-y and .moved-by-hover) */
    .moved-by-hover{ transform: translate(var(--shift-x,0px), var(--shift-y,0px)); }

    /* Scroll reveal (auto-applied to .card, .btn, h1, h2 via JS) */
    .will-reveal{ opacity:0; transform: translateY(var(--reveal-translate)); }
    .reveal-in{ opacity:1; transform: translateY(0); transition: opacity var(--anim-slow) var(--easing), transform var(--anim-slow) var(--easing); }
    .reveal-in{ transition-delay: calc(var(--stagger, 0) * 60ms); }

    /* Title typewriter */
    .typewrite{ display:inline-block; position:relative; white-space:nowrap; overflow:hidden; border-right:2px solid currentColor; animation: caretBlink 1s step-end infinite; }
    .typewrite.done{ border-right-color:transparent; animation:none; }
    @keyframes caretBlink{ 50% { border-color: transparent; } }
  </style>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="min-h-screen bg-gradient-to-b from-slate-50 to-white text-slate-900">
  <div id="root"></div>

  <script type="text/babel">
    const IMG_BADGE = "images/badge.png";        // top-anchored crop
    const IMG_CAR = "images/car.png";
    const IMG_LAB_BENCH = "images/lab-bench.png";
    const IMG_GROUP = "images/lab-group.png";
    const IMG_VIALS = "images/qnc-vials.jpg";
    
    const LOGO_HARVARD = "https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Harvard_University_logo.svg/600px-Harvard_University_logo.svg.png"; // Harvard wordmark
    const LOGO_WATERLOO = "https://upload.wikimedia.org/wikipedia/commons/b/b9/University_of_Waterloo_logo.png"; // Waterloo wordmark


    function Section({ id, title, children, className = "" }){
      return (
        <section id={id} className={"max-w-6xl mx-auto px-6 " + className}>
          {title && <h2 className="text-2xl font-bold mb-6 typewrite" data-typewrite data-type-speed="24">{title}</h2>}
          {children}
        </section>
      );
    }



// ====== UTILITIES ======
function linspace(a, b, n) {
  const arr = []; if (n <= 1) return [a];
  const step = (b - a) / (n - 1);
  for (let i = 0; i < n; i++) arr.push(a + i * step);
  return arr;
}
function toPolyline(points, w=600, h=260, pad=10) {
  if (!points.length) return "";
  const xs = points.map(p=>p[0]), ys = points.map(p=>p[1]);
  const xmin = Math.min(...xs), xmax = Math.max(...xs);
  const ymin = Math.min(...ys), ymax = Math.max(...ys);
  const sx = x => pad + (w-2*pad) * ((x - xmin) / (xmax - xmin || 1));
  const sy = y => h - pad - (h-2*pad) * ((y - ymin) / (ymax - ymin || 1));
  return points.map(([x,y]) => `${sx(x)},${sy(y)}`).join(" ");
}

// ====== (A) DEPOSITION / ETCH RATE VISUALIZER ======
function DepositionEtchCard() {
  const [mode, setMode] = React.useState("dep");     // "dep" or "etch"
  const [rate, setRate] = React.useState(50);        // nm/min
  const [time, setTime] = React.useState(10);        // min
  const [t0, setT0]   = React.useState(200);         // initial thickness nm

  const sign = mode === "dep" ? 1 : -1;
  const tFinal = Math.max(0, t0 + sign * rate * time);   // clamp >= 0
  const maxScale = Math.max(t0, tFinal, 100);            // for bar scale

  return (
    <div className="card p-6" data-reveal>
      <div className="flex items-center justify-between mb-4">
        <h2 className="text-xl font-semibold">Deposition / Etch visualizer</h2>
        <div className="flex gap-2">
          <button
            className={"btn px-3 py-1 rounded-lg border " + (mode==="dep" ? "border-blue-500 text-blue-600 bg-blue-50" : "border-slate-200 bg-slate-50")}
            onClick={()=>setMode("dep")}
          >Deposition</button>
          <button
            className={"btn px-3 py-1 rounded-lg border " + (mode==="etch" ? "border-blue-500 text-blue-600 bg-blue-50" : "border-slate-200 bg-slate-50")}
            onClick={()=>setMode("etch")}
          >Etch</button>
        </div>
      </div>

      {/* Controls */}
      <div className="grid sm:grid-cols-3 gap-4">
        <label className="text-sm">
          <div className="mb-1">Initial thickness t₀ (nm): <strong>{t0}</strong></div>
          <input type="range" min="0" max="1000" value={t0}
                 onChange={e=>setT0(+e.target.value)} className="w-full"/>
        </label>
        <label className="text-sm">
          <div className="mb-1">Rate (nm/min): <strong>{rate}</strong></div>
          <input type="range" min="0" max="200" value={rate}
                 onChange={e=>setRate(+e.target.value)} className="w-full"/>
        </label>
        <label className="text-sm">
          <div className="mb-1">Time (min): <strong>{time}</strong></div>
          <input type="range" min="0" max="60" value={time}
                 onChange={e=>setTime(+e.target.value)} className="w-full"/>
        </label>
      </div>

      {/* Bars */}
      <div className="grid sm:grid-cols-2 gap-6 mt-6">
        <div>
          <div className="text-sm text-slate-600 mb-2">Initial stack</div>
          <div className="h-40 w-24 border rounded-lg overflow-hidden bg-slate-100 relative">
            <div
              className="absolute bottom-0 left-0 right-0 bg-blue-400"
              style={{ height: `${(t0 / maxScale) * 100}%` }}
            />
          </div>
          <div className="text-sm mt-2">t₀ = <strong>{t0.toFixed(0)}</strong> nm</div>
        </div>
        <div>
          <div className="text-sm text-slate-600 mb-2">Final stack</div>
          <div className="h-40 w-24 border rounded-lg overflow-hidden bg-slate-100 relative">
            <div
              className="absolute bottom-0 left-0 right-0 bg-blue-600"
              style={{ height: `${(tFinal / maxScale) * 100}%` }}
            />
          </div>
          <div className="text-sm mt-2">tᶠ = <strong>{tFinal.toFixed(0)}</strong> nm</div>
        </div>
      </div>

      <p className="text-sm text-slate-600 mt-4">
        Computation: tᶠ = max(0, t₀ ± rate × time). Use deposition (+) or etch (−) to see thickness change.
      </p>
    </div>
  );
}

// ====== (B) THIN-FILM INTERFERENCE (single film on glass, normal incidence) ======
// Model: n0 (air)=1, film n1, substrate n2 (real indices), normal incidence.
// Reflectance R(λ) = |(r01 + r12 e^{2iβ}) / (1 + r01 r12 e^{2iβ})|^2
// where r01=(n0-n1)/(n0+n1), r12=(n1-n2)/(n1+n2), β=2π n1 d / λ.
function filmReflectanceSpectrum(n1=1.45, n2=1.5, d_nm=300) {
  const n0 = 1.0;
  const lambdas = linspace(380, 780, 200); // nm
  const r01 = (n0 - n1) / (n0 + n1);
  const r12 = (n1 - n2) / (n1 + n2);

  const pts = lambdas.map(lambda => {
    const beta = 2 * Math.PI * n1 * (d_nm / lambda);
    // e^{2 i β}
    const cos2b = Math.cos(2*beta), sin2b = Math.sin(2*beta);
    // complex numerator: r01 + r12 * e^{2iβ}
    const num_re = r01 + r12 * cos2b;
    const num_im = 0     + r12 * sin2b;
    // complex denominator: 1 + r01*r12 * e^{2iβ}
    const rr = r01 * r12;
    const den_re = 1 + rr * cos2b;
    const den_im =     rr * sin2b;
    // complex division |num/den|^2
    const den2 = den_re*den_re + den_im*den_im;
    const re = (num_re*den_re + num_im*den_im) / den2;
    const im = (num_im*den_re - num_re*den_im) / den2;
    const R = re*re + im*im;
    return [lambda, R];
  });
  return pts;
}

function ThinFilmCard() {
  const [n1, setN1] = React.useState(1.45);     // film refractive index
  const [n2, setN2] = React.useState(1.50);     // substrate (glass)
  const [d,  setD ] = React.useState(300);      // thickness (nm)

  const data = filmReflectanceSpectrum(n1, n2, d);
  const poly = toPolyline(data, 600, 260, 36);

  return (
    <div className="card p-6" data-reveal>
      <h2 className="text-xl font-semibold mb-4">Thin-film interference (reflectance vs wavelength)</h2>

      {/* Controls */}
      <div className="grid sm:grid-cols-3 gap-4 mb-4">
        <label className="text-sm">
          <div className="mb-1">Film index n₁: <strong>{n1.toFixed(2)}</strong></div>
          <input type="range" min="1.00" max="2.50" step="0.01" value={n1}
                 onChange={e=>setN1(+e.target.value)} className="w-full"/>
        </label>
        <label className="text-sm">
          <div className="mb-1">Substrate n₂ (glass≈1.50): <strong>{n2.toFixed(2)}</strong></div>
          <input type="range" min="1.30" max="2.00" step="0.01" value={n2}
                 onChange={e=>setN2(+e.target.value)} className="w-full"/>
        </label>
        <label className="text-sm">
          <div className="mb-1">Thickness d (nm): <strong>{d}</strong></div>
          <input type="range" min="0" max="1000" step="1" value={d}
                 onChange={e=>setD(+e.target.value)} className="w-full"/>
        </label>
      </div>

      {/* Plot (SVG) */}
      <div className="rounded-xl border border-slate-200 bg-white overflow-hidden">
        <svg width="100%" height="280" viewBox="0 0 600 260" preserveAspectRatio="none">
          <rect x="0" y="0" width="600" height="260" fill="white"/>
          {/* axes */}
          <line x1="36" y1="224" x2="580" y2="224" stroke="#cbd5e1"/>
          <line x1="36" y1="24"  x2="36"  y2="224" stroke="#cbd5e1"/>
          <text x="300" y="248" fontSize="10" fill="#64748b" textAnchor="middle">Wavelength (nm)</text>
          <text x="10" y="18" transform="rotate(-90,10,18)" fontSize="10" fill="#64748b">Reflectance</text>

          {/* curve */}
          <polyline fill="none" stroke="#2563eb" strokeWidth="2" points={poly}/>
        </svg>
      </div>

      <p className="text-sm text-slate-600 mt-3">
        Model: normal incidence, single film between air (n₀=1) and substrate (n₂). Uses Fresnel coefficients with phase β = 2π n₁ d / λ.
      </p>
    </div>
  );
}



    function Portfolio(){
      return (
        <div className="min-h-screen">
          {/* Nav */}
          <header className="sticky top-0 z-40 backdrop-blur bg-white/70 border-b border-slate-200">
            <div className="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
              <div className="flex items-center gap-3">
  <div className="w-12 h-12 rounded-xl bg-indigo-50 border border-slate-200 grid place-items-center font-extrabold text-indigo-900 shadow-sm">AP</div>

  {/* University wordmarks (hide on small screens to avoid crowding) */}
  <div className="hidden md:flex items-center gap-2">
    <img src={LOGO_HARVARD} alt="Harvard University" className="h-5 w-auto" />
    <img src={LOGO_WATERLOO} alt="University of Waterloo" className="h-5 w-auto" />
  </div>

  <div>
    <div className="font-extrabold leading-tight">Alden Panicker</div>
    <div className="text-sm text-slate-600">Nanotechnology Engineering — Portfolio</div>
  </div>
</div>

              <nav className="hidden sm:flex items-center gap-3">
                <a href="#summary" className="px-3 py-2 rounded-xl border border-slate-200 bg-slate-50 hover:bg-slate-100">Summary</a>
                <a href="#projects" className="px-3 py-2 rounded-xl border border-slate-200 bg-slate-50 hover:bg-slate-100">Projects</a>
                <a href="#experience" className="px-3 py-2 rounded-xl border border-slate-200 bg-slate-50 hover:bg-slate-100">Experience</a>
                <a href="#contact" className="px-3 py-2 rounded-xl border border-slate-200 bg-slate-50 hover:bg-slate-100">Contact</a>
              </nav>
            </div>
          </header>

          {/* Hero (no duplicate summary; calmer spacing) */}
          {/* HERO */}
{/* HERO (title + summary on the left, headshot + latest on the right) */}
<Section className="pt-20 pb-8">
  <div className="grid lg:grid-cols-12 gap-12 items-start">
    {/* LEFT: title + summary + chips (all in one column) */}
    <div className="lg:col-span-7 flex flex-col gap-6">
      <h1 className="text-4xl md:text-5xl font-extrabold tracking-tight leading-[1.15] typewrite" data-typewrite data-type-speed="26">
        Wafer-scale photonics and nanofabrication
      </h1>

      {/* Summary lives in the hero now */}
      <div className="card p-8" data-reveal>
        <h2 className="sr-only">Summary</h2>
        <p className="text-slate-700 text-[1.05rem] leading-8">
          Nanotechnology Engineering student focused on photonic-fluidic devices and cleanroom nanofabrication.
          Experience across wafer design and process execution (MLA lithography, RIE, PVD/CVD), optical and heat-transfer
          modeling, and translating research into patents and papers.
        </p>
      </div>
{/* Education badge */}
<div className="card p-4 flex items-center gap-4" data-reveal>
  <span className="text-2xl" aria-hidden="true">🎓</span>
  <div className="flex-1">
    <div className="font-semibold">Honours Nanotechnology Engineering</div>
    <div className="text-sm text-slate-600">University of Waterloo</div>
  </div>
  <img src={LOGO_WATERLOO} alt="University of Waterloo" className="h-8 md:h-10 w-auto" />
</div>

      {/* (optional) chips */}
      <div className="flex flex-wrap gap-2">
        {['Photonic-fluidic devices','Nanofab & metrology','Optics & heat transfer','IP & papers'].map((t)=>(
          <span key={t} className="text-sm px-3 py-1 rounded-full border border-slate-200 bg-slate-50 text-slate-700 will-reveal">{t}</span>
        ))}
      </div>
    </div>

    {/* RIGHT: headshot + latest */}
    <aside className="lg:col-span-5 space-y-6">
      <figure>
        <div className="w-full aspect-[4/5] overflow-hidden rounded-2xl border border-slate-200 shadow-sm will-reveal">
          <img src="images/headshot.jpg" alt="Alden Panicker"
               className="w-full h-full object-cover [object-position:50%_30%]" />
        </div>
      </figure>

      <div className="card p-6 space-y-4" data-reveal>
        <div className="flex items-center justify-between">
          <span className="text-slate-600">Latest</span>
          <span className="text-xs px-2 py-1 rounded-full border border-slate-200 bg-slate-50">Research</span>
        </div>
        <div className="font-semibold flex items-center gap-2">
  <img src={LOGO_HARVARD} alt="Harvard University" className="h-5 w-auto" />
  <span>Harvard SEAS — Aizenberg Lab</span>
</div>

        <ul className="space-y-2 text-slate-700 list-disc pl-5">
          <li>Lead author on view-angle-controlled optical display/encryption; patent filing; paper in preparation.</li>
          <li>Designed and fabricated micro-/nano-structured optics; tuned visible–IR transparency with thin films and nanoparticles.</li>
          <li>Quantified radiative cooling and specularity control; executed end-to-end cleanroom flows.</li>
        </ul>
      </div>
    </aside>
  </div>
</Section>



          {/* 
          <Section id="summary" className="py-12">
            <div className="grid lg:grid-cols-12 gap-12 items-start">
              <div className="lg:col-span-7">
                <div className="card p-8">
                  <h2 className="text-2xl font-bold mb-3">Summary</h2>
                  <p className="text-slate-700 text-[1.05rem] leading-8">
                    Nanotechnology Engineering student focused on photonic‑fluidic devices and cleanroom nanofabrication.
                    Experience across wafer design and process execution (MLA lithography, RIE, PVD/CVD), optical and heat‑transfer modeling,
                    and translating research into patents and papers.
                  </p>
                </div>
              </div>
              <div className="lg:col-span-5">
                <blockquote className="rounded-2xl border border-slate-200 bg-slate-50 p-6 text-slate-700 leading-7">
                  “Transforming novel photonic‑fluidic technologies into patented IP and peer‑reviewed publications.”
                </blockquote>
              </div>
            </div>
          </Section>
   Summary (single, aesthetic) */}
          {/* Projects */}
          <Section id="projects" className="py-14">
            <h2 className="text-2xl font-bold mb-6 relative pl-4 before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2 before:h-6 before:w-1 before:rounded before:bg-blue-500 typewrite" data-typewrite data-type-speed="22">Flagship Project — Dynamic view-angle-controlled optical display/encryption</h2>
            <div className="grid lg:grid-cols-2 gap-10" data-hover-grid>
              <figure className="card p-4" data-reveal>
                <div className="w-full aspect-[4/3] overflow-hidden rounded-xl border border-slate-200">
                  {/* Top‑anchored crop so the upper design stays in frame */}
                  <img src={IMG_BADGE} alt="ID‑badge concept demonstrating selective visibility for encrypted information"
                       className="w-full h-full object-cover" style={{objectPosition:'50% 0%'}} />
                </div>
                <figcaption className="text-sm text-slate-700 mt-3">
                  Application concept: ID‑badge form factor demonstrating selective visibility for encrypted information.
                </figcaption>
              </figure>

              <figure className="card p-4" data-reveal>
                <div className="w-full aspect-[4/3] overflow-hidden rounded-xl border border-slate-200">
                  <img src={IMG_CAR} alt="Automotive passenger‑side display concept showing controlled visibility"
                       className="w-full h-full object-cover" />
                </div>
                <figcaption className="text-sm text-slate-700 mt-3">Automotive passenger‑side display with controlled visibility.</figcaption>
              </figure>
            </div>

            <div className="card p-6 mt-8" data-reveal>
              <ul className="space-y-2 text-slate-800 list-disc pl-5">
                <li><strong>Role:</strong> Lead author & inventor (co‑lead with collaborator Raphael Kay).</li>
                <li><strong>Focus:</strong> I develop wafer‑scale nanofabrication on silicon, design and characterize optical behavior, and tune performance within robust, end‑to‑end cleanroom processes.</li>
                <li><strong>Outcomes:</strong> Patent filed; paper in preparation.</li>
              </ul>
            </div>
          </Section>


{/* === INTERACTIVE SIMULATIONS === */}
<Section id="simulations" className="py-12">
  <div className="grid lg:grid-cols-2 gap-10" data-hover-grid>
    <DepositionEtchCard />
    <ThinFilmCard />
  </div>
</Section>


          {/* Simulation (click to run) 
<Section id="sim" className="py-10">
  <div className="card p-6">
    <div className="flex items-center justify-between mb-4">
      <h2 className="text-xl font-semibold">Interactive simulation</h2>
      <button
        className="px-4 py-2 rounded-lg border border-slate-200 bg-slate-50 hover:bg-slate-100"
        onClick={()=>{
          const data = simulateExample(600);    // <-- replace with your calc
          const poly = toPolyline(data);
          // store polyline string in a data- attribute for simple no-state update
          const el = document.getElementById("sim-poly");
          if (el) el.setAttribute("points", poly);
        }}
      >
        Run
      </button>
    </div>
    <div className="rounded-xl border border-slate-200 bg-white overflow-hidden">
      <svg width="100%" height="240" viewBox="0 0 500 240" preserveAspectRatio="none">
        {/* axes *
        <rect x="0" y="0" width="500" height="240" fill="white"/>
        <line x1="40" y1="220" x2="480" y2="220" stroke="#cbd5e1"/>
        <line x1="40" y1="20"  x2="40"  y2="220" stroke="#cbd5e1"/>
        {/* curve *
        <polyline id="sim-poly" fill="none" stroke="#2563eb" stroke-width="2" points=""/>
      </svg>
    </div>
    {/* instructions (optional) *
    <p className="text-sm text-slate-600 mt-3">
      Click <em>Run</em> to generate the curve. Replace <code>simulateExample</code> with your equations to visualize your own model.
    </p>
  </div>
</Section>

          */}
          {/* Experience with aligned photos underneath specific cards */}
          <Section id="experience" className="py-14">
  <h2 className="text-2xl font-bold mb-6 typewrite" data-typewrite data-type-speed="22">Experience</h2>

  {/* Equal heights + bottom-aligned figures */}
  <div className="grid lg:grid-cols-3 gap-10 items-stretch" data-hover-grid>
    {/* Card 1 */}
    <div className="card p-6 flex flex-col" data-reveal>
      <h3 className="font-semibold">Harvard SEAS — Permanent Part-Time Researcher</h3>
      <p className="text-sm text-slate-600">May 2025 – Present</p>
      <ul className="space-y-2 text-slate-800 list-disc pl-5 mt-3">
        <li>Transforming photonic-fluidic technologies into patented IP and peer-reviewed publications.</li>
        <li>Patent application in preparation; claims drafted; prior-art reviewed with counsel.</li>
        <li>Lead author on next-generation optical display/encryption with dynamic view-angle control.</li>
        <li>Co-author on additional papers across nanomaterial and photonic-fluidic devices.</li>
      </ul>
      <figure className="mt-auto pt-4">
        <div className="w-full aspect-[3/2] overflow-hidden rounded-xl border border-slate-200">
          <img src={IMG_LAB_BENCH} alt="Prototype evaluation in the lab by two researchers wearing safety glasses"
               className="w-full h-full object-cover" />
        </div>
        <figcaption className="text-sm text-slate-700 mt-2">Prototype evaluation in the lab.</figcaption>
      </figure>
    </div>

    {/* Card 2 */}
    <div className="card p-6 flex flex-col" data-reveal>
      <h3 className="font-semibold">Harvard SEAS — Aizenberg Lab (Co-op)</h3>
      <p className="text-sm text-slate-600">Sep 2024 – May 2025</p>
      <ul className="space-y-2 text-slate-800 list-disc pl-5 mt-3">
        <li>Wafer design (KLayout) and end-to-end cleanroom processes: MLA lithography, RIE, PVD/CVD.</li>
        <li>Tuned visible–IR transparency with nanoparticles and thin films; UV-Vis/FTIR characterization.</li>
        <li>Quantified radiative cooling and specularity control; opto-thermal experiments and modeling.</li>
      </ul>
      <figure className="mt-auto pt-4">
        <div className="w-full aspect-[3/2] overflow-hidden rounded-xl border border-slate-200">
          <img src={IMG_GROUP} alt="Aizenberg Lab"
               className="w-full h-full object-cover" style={{ objectPosition: '50% 0%' }} />
        </div>
        <figcaption className="text-sm text-slate-700 mt-2">Aizenberg Lab</figcaption>
      </figure>
    </div>

    {/* Card 3 */}
    <div className="card p-6 flex flex-col" data-reveal>
      <h3 className="font-semibold">Quantum Nano Center — University of Waterloo</h3>
      <ul className="space-y-2 text-slate-800 list-disc pl-5 mt-3">
        <li>MOSFET/IC fabrication and testing; four-point probe; I–V & C–V; threshold and mobility extraction.</li>
        <li>Quantum dots & QDLEDs: optical/electrical validation; emission peak & stability; band-gap and particle-size extraction.</li>
        <li>Polymer & nanomaterials characterization (tensile, impact, DSC, TGA); SEM on nanogold wires; CNT Raman/UV-vis.</li>
      </ul>
      <figure className="mt-auto pt-4">
        <div className="w-full aspect-[3/2] overflow-hidden rounded-xl border border-slate-200">
          <img src={IMG_VIALS} alt="Quantum dot synthesis vials under UV showing tunable emission colors"
               className="w-full h-full object-cover" />
        </div>
        <figcaption className="text-sm text-slate-700 mt-2">Quantum dots — tunable emission.</figcaption>
      </figure>
    </div>
  </div>
</Section>

          {/* Contact */}
          <footer id="contact" className="border-t border-slate-200 bg-white/60">
            <div className="max-w-6xl mx-auto px-6 py-12">
              <h2 className="text-2xl font-bold mb-4 typewrite" data-typewrite data-type-speed="22">Contact</h2>
              <a className="btn inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 bg-slate-50 hover:bg-slate-100 text-blue-600 hover:text-blue-700"
   href="mailto:aa2panic@uwaterloo.ca">Email me</a>

              <div className="text-sm text-slate-600 mt-4">© {new Date().getFullYear()} Alden Panicker</div>
            </div>
          </footer>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<Portfolio />);

    // ===== Animation initializers (vanilla JS, runs after render) =====
    (function(){
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // 1) Hover expand neighbor-nudge for any [data-hover-grid]
      function setupHoverGrids(){
        const grids = document.querySelectorAll('[data-hover-grid]');
        grids.forEach(grid => {
          const items = Array.from(grid.querySelectorAll('.card'));
          let hovered = null; let raf = null;
          const reset = () => items.forEach(el => { el.classList.remove('moved-by-hover'); el.style.removeProperty('--shift-x'); el.style.removeProperty('--shift-y'); });
          const update = () => {
            if (prefersReduced || !hovered) return;
            const r = hovered.getBoundingClientRect();
            const hx = r.left + r.width/2, hy = r.top + r.height/2;
            const push = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--sibling-shift')) || 12;
            items.forEach(el => {
              if (el===hovered) return;
              const b = el.getBoundingClientRect();
              let dx = (b.left + b.width/2) - hx; let dy = (b.top + b.height/2) - hy;
              const len = Math.hypot(dx,dy)||1; dx/=len; dy/=len;
              el.style.setProperty('--shift-x', (dx*push).toFixed(2)+'px');
              el.style.setProperty('--shift-y', (dy*push).toFixed(2)+'px');
              el.classList.add('moved-by-hover');
            });
          };
          const request = () => { if (raf) cancelAnimationFrame(raf); raf = requestAnimationFrame(update); };
          items.forEach(el=>{
            el.addEventListener('mouseenter', ()=>{ hovered=el; request(); });
            el.addEventListener('focus', ()=>{ hovered=el; request(); });
            el.addEventListener('mouseleave', ()=>{ hovered=null; reset(); });
            el.addEventListener('blur', ()=>{ hovered=null; reset(); });
          });
          window.addEventListener('resize', request, {passive:true});
          window.addEventListener('scroll', request, {passive:true});
        });
      }

      // 2) Scroll reveal — auto-mark typical elements if not explicitly flagged
      function setupReveal(){
        const candidates = document.querySelectorAll('.card, .btn, h1, h2, [data-reveal]');
        candidates.forEach(el=>{
          if (!el.classList.contains('reveal-in')) el.classList.add('will-reveal');
        });
        const byParent = new Map();
        const list = Array.from(candidates);
        list.forEach(el=>{
          const group = el.closest('[data-hover-grid]') || el.parentElement;
          if (!byParent.has(group)) byParent.set(group, []);
          byParent.get(group).push(el);
        });
        const io = new IntersectionObserver(entries=>{
          entries.forEach(entry=>{
            if (entry.isIntersecting){
              const el = entry.target; const group = el.closest('[data-hover-grid]') || el.parentElement;
              const siblings = byParent.get(group)||[el];
              siblings.forEach((sib,i)=>{
                if (!sib.classList.contains('reveal-in')){
                  sib.style.setProperty('--stagger', i);
                  sib.classList.remove('will-reveal'); sib.classList.add('reveal-in');
                }
              });
              io.unobserve(el);
            }
          });
        }, { rootMargin: '0px 0px -10% 0px', threshold: 0.12 });
        list.forEach(el=>io.observe(el));
      }

      // 3) Typewriter for headings with [data-typewrite]
      function setupTypewriter(){
        const els = document.querySelectorAll('[data-typewrite]');
        els.forEach(el=>{
          const full = el.textContent.trim();
          const speed = parseInt(el.getAttribute('data-type-speed')||'28',10);
          const delay = parseInt(el.getAttribute('data-type-delay')||'150',10);
          el.textContent=''; el.classList.add('typewrite');
          const start=()=>{
            if (prefersReduced){ el.textContent=full; el.classList.add('done'); return; }
            let i=0; const tick=()=>{ i++; el.textContent = full.slice(0,i); if (i<full.length) setTimeout(tick, speed); else el.classList.add('done'); };
            setTimeout(tick, delay);
          };
          const io = new IntersectionObserver(entries=>{ entries.forEach(e=>{ if (e.isIntersecting){ start(); io.disconnect(); } });}, {threshold:0.2});
          io.observe(el);
        });
      }

      // Kick everything after the React render cycle
      requestAnimationFrame(()=>{ setupHoverGrids(); setupReveal(); setupTypewriter(); });
    })();
  </script>
</body>
</html>
